{
    "Logging": {
        "LogLevel": {
            "Default": "Information",
            "Microsoft.AspNetCore": "Warning"
        },
        "EventLog": {
            "LogLevel": {
                "Default": "None"
            }
        }
    },
    "AllowedHosts": "*",
    "ConnectionStrings": {
        "Default": "Data Source=condiva.db"
    },
    "JwtSettings": {
        "Key": "__SET_VIA_USER_SECRETS__",
        "Issuer": "Condiva",
        "Audience": "Condiva",
        "AccessTokenLifetimeMinutes": 15
    },
    "SecuritySettings": {
        "Pepper": "__SET_VIA_USER_SECRETS__"
    },
    "MailService": {
        "AppMail": "noreply@example.com",
        "Host": "smtp.example.com",
        "Port": 587,
        "SenderName": "Condiva",
        "Username": "smtp-user",
        "Password": "__SET_VIA_USER_SECRETS__",
        "UseSsl": true,
        "DisableSend": true
    },
    "AuthSettings": {
        "FrontendUrl": "http://localhost:5173",
        "AutoVerifyEmail": true,
        // In development, keep cookies on first refresh mismatch to avoid forced logout
        // during concurrent refreshes (multi-tab/dev tooling).
        "ClearCookiesOnRefreshFailure": false
    },
    "AuthCookies": {
        // __Host- / __Secure- cookies require Secure.
        "RequireSecure": true,
        "AccessToken": {
            "SameSite": "None"
        },
        "RefreshToken": {
            "SameSite": "None"
        },
        "CsrfToken": {
            "SameSite": "None"
        }
    },
    "Cors": {
        "AllowedOrigins": [
            "http://localhost:5173",
            "https://localhost:5173"
        ]
    },
    "GoogleAuth": {
        "ClientId": "YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com",
        "AllowedHostedDomain": ""
    },
    "TemplateSettings": {
        "BasePath": "templates"
    },
    "NotificationProcessing": {
        "Enabled": true,
        "PollIntervalSeconds": 5,
        "BatchSize": 100
    },
    "RefreshTokenSettings": {
        "RefreshTokenLifetimeDays": 30
    },
    "RateLimit": {
        "Rules": {
            "Login": {
                "MaxUserAttempts": 5,
                "MaxIpAttempts": 20,
                "AttemptWindow": "00:15:00",
                "LockDuration": "00:05:00"
            },
            "Register": {
                "MaxUserAttempts": 3,
                "MaxIpAttempts": 10,
                "AttemptWindow": "00:30:00",
                "LockDuration": "00:10:00"
            },
            "VerifyEmail": {
                "MaxUserAttempts": 5,
                "MaxIpAttempts": 15,
                "AttemptWindow": "01:00:00",
                "LockDuration": "00:15:00"
            },
            "ResetPassword": {
                "MaxUserAttempts": 3,
                "MaxIpAttempts": 10,
                "AttemptWindow": "00:30:00",
                "LockDuration": "00:15:00"
            },
            "ExternalLogin": {
                "MaxUserAttempts": 5,
                "MaxIpAttempts": 20,
                "AttemptWindow": "00:15:00",
                "LockDuration": "00:05:00"
            }
        },
        "TrustedProxyIps": [],
        "RequireRedis": false,
        "AuthEndpoint": {
            "PermitLimit": 30,
            "WindowSeconds": 60
        }
    }
}
